@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />

    <script src="~/Scripts/Vue/vue.js"></script>
    <link href="~/Scripts/ElementUI/css/index.css" rel="stylesheet" />
    <script src="~/Scripts/ElementUI/index.js"></script>
    <title>Index</title>

    <style>
        * {
            margin: 0;
            padding: 0;
        }

        html {
            height: 100%;
            width: 100%;
        }

        body {
            height: 100%;
            width: 100%;
        }

        #App {
            height: 100%;
        }

        * {
            margin: 0;
            padding: 0;
        }

        .HeadDiv {
            height: 50px;
            background-color: skyblue;
        }

        .MainDiv {
            height: calc(100% - 50px);
        }

        .MainLeft {
            height: 100%;
            width: 200px;
            float: left;
            background-color :#545c64;
            overflow:auto;
        }

        .MainRight {
            height: 100%;
            width: calc(100% - 200px);
            float: left;
            background-color: #EFEFEF;
            padding-left: 10px;
            padding-top: 10px;
            box-sizing: border-box;
        }

        .MianContent {
            height: 100%;
            width: 100%;
            background-color: white;
        }

        .Mainfoot {
            clear: both;
        }
        .el-menu-item {
            width:calc(100% - 10px);
        }
    </style>
</head>
<body>
    <div id="App">
        <div class="HeadDiv">

        </div>
        <div class="MainDiv">
            <div class="MainLeft">
                <el-menu default-active="1"
                         @@open="handleOpen"
                         @@close="handleClose"
                         @@select="addTab"
                         background-color="#545c64"
                         text-color="#fff"
                         active-text-color="#ffd04b"
                         style="border-right:0">
                    <template v-for="(v,i) in MenuList">
                        <el-submenu :index="v.NavId">
                            <template slot="title">
                                <i v-if="v.Icon!=''" :class="v.Icon"></i>
                                <span>{{v.NavName}}</span>
                            </template>

                            <template v-if="v.NavId=='1'">
                                <el-menu-item index="1-1">选项1</el-menu-item>
                                <el-menu-item index="1-2">选项2</el-menu-item>
                            </template>

                        </el-submenu>
                    </template>
                </el-menu>
            </div>
            <div class="MainRight">
                <div class="MianContent" id="MianContent">
                    <el-tabs  v-model="editableTabsValue2" type="card" closable @@tab-remove="removeTab">
                        <el-tab-pane v-for="(item, index) in editableTabs2"
                                     :key="item.name"
                                     :label="item.title"
                                     :name="item.name">
                            {{item.content}}
                        </el-tab-pane>
                    </el-tabs>
                </div>
            </div>

        </div>
        <div class="Mainfoot"></div>
    </div>

</body>

</html>
<script>
  
    var $app = new Vue({
        el: "#App",
        data: {
            MenuList: [],
            editableTabsValue2: '2',
            editableTabs2: [{
                title: 'Tab 1',
                name: '1',
                content: 'Tab 1 content'
            }, {
                title: 'Tab 2',
                name: '2',
                content: 'Tab 2 content'
            }],
            tabIndex: 2
        },
        methods: {
            handleOpen() {

            },
            handleClose() {

            },
            addTab(index, indexPath) {
                let item = this.MenuList.filter(function (v) {
                    return v.NavId == index;
                })[0];
               // let newTabName = ++this.tabIndex + '';
                this.editableTabs2.push({
                    title: item.NavName,
                    name: item.NavId,
                    content: item.NavName+' Tab content'
                });
                this.editableTabsValue2 = item.NavId;
            },
            removeTab(targetName) {
                let tabs = this.editableTabs2;
                let activeName = this.editableTabsValue2;
                if (activeName === targetName) {
                    tabs.forEach((tab, index) => {
                        if (tab.name === targetName) {
                            let nextTab = tabs[index + 1] || tabs[index - 1];
                            if (nextTab) {
                                activeName = nextTab.name;
                            }
                        }
                    });
                }

                this.editableTabsValue2 = activeName;
                this.editableTabs2 = tabs.filter(tab => tab.name !== targetName);
            }
        }
    });
   
    $app.MenuList = [{ NavName: "导航一", NavId: "1", Icon: "el-icon-location" },
    { NavName: "导航二", NavId: "2", Icon: "el-icon-menu" },
    { NavName: "导航三", NavId: "3", Icon: "el-icon-document" },
        { NavName: "导航四", NavId: "4", Icon: "" }];
</script>